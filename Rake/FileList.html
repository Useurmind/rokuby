<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Rake::FileList
  
    &mdash; Documentation by YARD 0.8.2.1
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (F)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Rake.html" title="Rake (module)">Rake</a></span></span>
     &raquo; 
    <span class="title">FileList</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Rake::FileList
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Rake::FileList</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="Cloneable.html" title="Rake::Cloneable (module)">Cloneable</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/rokuby/RokubyRake/rake/file_list.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>######################################################################### A
FileList is essentially an array with a few helper methods defined to make
file manipulation a bit easier.</p>

<p>FileLists are lazy.  When given a list of glob patterns for possible files
to be included in the file list, instead of searching the file structures
to find the files, a FileList holds the pattern for latter use.</p>

<p>This allows us to define a number of FileList to match any number of files,
but only search out the actual files when then FileList itself is actually
used.  The key is that the first time an element of the FileList/Array is
requested, the pending patterns are resolved into a real list of file
names.</p>


  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="ARRAY_METHODS-constant" class="">ARRAY_METHODS =
          <div class="docstring">
  <div class="discussion">
    
<p>List of array methods (that are not in <tt>Object</tt>) that need to be
delegated.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lparen'>(</span><span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_instance_methods'>instance_methods</span> <span class='op'>-</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_instance_methods'>instance_methods</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span> <span class='id identifier rubyid_n'>n</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span></pre></dd>
      
        <dt id="MUST_DEFINE-constant" class="">MUST_DEFINE =
          <div class="docstring">
  <div class="discussion">
    
<p>List of additional methods that must be delegated.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='qwords_beg'>%w[</span><span class='tstring_content'>to_a</span><span class='words_sep'> </span><span class='tstring_content'>inspect</span><span class='words_sep'> </span><span class='tstring_content'>&lt;=&gt;</span><span class='words_sep'>]</span></pre></dd>
      
        <dt id="MUST_NOT_DEFINE-constant" class="">MUST_NOT_DEFINE =
          <div class="docstring">
  <div class="discussion">
    
<p>List of methods that should not be delegated here (we define special
versions of them explicitly below).</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='qwords_beg'>%w[</span><span class='tstring_content'>to_a</span><span class='words_sep'> </span><span class='tstring_content'>to_ary</span><span class='words_sep'> </span><span class='tstring_content'>partition</span><span class='words_sep'> </span><span class='tstring_content'>*</span><span class='words_sep'>]</span></pre></dd>
      
        <dt id="SPECIAL_RETURN-constant" class="">SPECIAL_RETURN =
          <div class="docstring">
  <div class="discussion">
    
<p>List of delegated methods that return new array values which need wrapping.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='qwords_beg'>%w[
</span><span class='tstring_content'>map</span><span class='words_sep'> </span><span class='tstring_content'>collect</span><span class='words_sep'> </span><span class='tstring_content'>sort</span><span class='words_sep'> </span><span class='tstring_content'>sort_by</span><span class='words_sep'> </span><span class='tstring_content'>select</span><span class='words_sep'> </span><span class='tstring_content'>find_all</span><span class='words_sep'> </span><span class='tstring_content'>reject</span><span class='words_sep'> </span><span class='tstring_content'>grep</span><span class='words_sep'>
</span><span class='tstring_content'>compact</span><span class='words_sep'> </span><span class='tstring_content'>flatten</span><span class='words_sep'> </span><span class='tstring_content'>uniq</span><span class='words_sep'> </span><span class='tstring_content'>values_at</span><span class='words_sep'>
</span><span class='tstring_content'>+</span><span class='words_sep'> </span><span class='tstring_content'>-</span><span class='words_sep'> </span><span class='tstring_content'>&amp;</span><span class='words_sep'> </span><span class='tstring_end'>|</span></span></pre></dd>
      
        <dt id="DELEGATING_METHODS-constant" class="">DELEGATING_METHODS =
          
        </dt>
        <dd><pre class="code"><span class='lparen'>(</span><span class='const'>ARRAY_METHODS</span> <span class='op'>+</span> <span class='const'>MUST_DEFINE</span> <span class='op'>-</span> <span class='const'>MUST_NOT_DEFINE</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span></pre></dd>
      
        <dt id="DEFAULT_IGNORE_PATTERNS-constant" class="">DEFAULT_IGNORE_PATTERNS =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(^|[\/\\])CVS([\/\\]|$)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(^|[\/\\])\.svn([\/\\]|$)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\.bak$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span>
  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>~$</span><span class='regexp_end'>/</span></span>
<span class='rbracket'>]</span></pre></dd>
      
        <dt id="DEFAULT_IGNORE_PROCS-constant" class="">DEFAULT_IGNORE_PROCS =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span>
  <span class='id identifier rubyid_proc'>proc</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_fn'>fn</span><span class='op'>|</span> <span class='id identifier rubyid_fn'>fn</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(^|[\/\\])core$</span><span class='regexp_end'>/</span></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span><span class='lparen'>(</span><span class='id identifier rubyid_fn'>fn</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='rbracket'>]</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D-class_method" title="[] (class method)">+ (Object) <strong>[]</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new file list including the files listed.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%2A-instance_method" title="#* (instance method)">- (Object) <strong>*</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Redefine * to return either a string or a new file list.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3D%3D-instance_method" title="#== (instance method)">- (Object) <strong>==</strong>(array) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Define equality.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clear_exclude-instance_method" title="#clear_exclude (instance method)">- (Object) <strong>clear_exclude</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Clear all the exclude patterns so that we exclude nothing.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#egrep-instance_method" title="#egrep (instance method)">- (Object) <strong>egrep</strong>(pattern, *options) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Grep each of the files in the filelist using the given pattern.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exclude-instance_method" title="#exclude (instance method)">- (Object) <strong>exclude</strong>(*patterns, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Register a list of file name patterns that should be excluded from the
list.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exclude%3F-instance_method" title="#exclude? (instance method)">- (Boolean) <strong>exclude?</strong>(fn) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Should the given file name be excluded?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#existing-instance_method" title="#existing (instance method)">- (Object) <strong>existing</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return a new file list that only contains file names from the current file
list that exist on the file system.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#existing%21-instance_method" title="#existing! (instance method)">- (Object) <strong>existing!</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Modify the current file list so that it contains only file name that exist
on the file system.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ext-instance_method" title="#ext (instance method)">- (Object) <strong>ext</strong>(newext = '') </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return a new FileList with <tt>String#ext</tt> method applied to each
member of the array.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gsub-instance_method" title="#gsub (instance method)">- (Object) <strong>gsub</strong>(pat, rep) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return a new FileList with the results of running <tt>gsub</tt> against
each element of the original list.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gsub%21-instance_method" title="#gsub! (instance method)">- (Object) <strong>gsub!</strong>(pat, rep) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Same as <tt>gsub</tt> except that the original file list is modified.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#import-instance_method" title="#import (instance method)">- (Object) <strong>import</strong>(array) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#include-instance_method" title="#include (instance method)">- (Object) <strong>include</strong>(*filenames) </a>
    

    
      (also: #add)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add file names defined by glob patterns to the file list.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (FileList) <strong>initialize</strong>(*patterns) {|_self| ... }</a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a file list from the globbable patterns given.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_a%3F-instance_method" title="#is_a? (instance method)">- (Boolean) <strong>is_a?</strong>(klass) </a>
    

    
      (also: #kind_of?)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Lie about our class.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#partition-instance_method" title="#partition (instance method)">- (Object) <strong>partition</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>FileList version of partition.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pathmap-instance_method" title="#pathmap (instance method)">- (Object) <strong>pathmap</strong>(spec = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Apply the pathmap spec to each of the included file names, returning a new
file list with the modified paths.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resolve-instance_method" title="#resolve (instance method)">- (Object) <strong>resolve</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Resolve all the pending adds now.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sub-instance_method" title="#sub (instance method)">- (Object) <strong>sub</strong>(pat, rep) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return a new FileList with the results of running <tt>sub</tt> against each
element of the original list.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sub%21-instance_method" title="#sub! (instance method)">- (Object) <strong>sub!</strong>(pat, rep) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Same as <tt>sub</tt> except that the original file list is modified.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_a-instance_method" title="#to_a (instance method)">- (Object) <strong>to_a</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return the internal array object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_ary-instance_method" title="#to_ary (instance method)">- (Object) <strong>to_ary</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return the internal array object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">- (Object) <strong>to_s</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Convert a FileList to a string by joining all elements with a space.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Cloneable.html" title="Rake::Cloneable (module)">Cloneable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Cloneable.html#clone-instance_method" title="Rake::Cloneable#clone (method)">#clone</a></span>, <span class='object_link'><a href="Cloneable.html#dup-instance_method" title="Rake::Cloneable#dup (method)">#dup</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Rake::FileList (class)">FileList</a></span></tt>) <strong>initialize</strong>(*patterns) {|_self| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a file list from the globbable patterns given.  If you wish to
perform multiple includes or excludes at object build time, use the "yield
self" pattern.</p>

<p>Example:</p>

<pre class="code ruby"><code><span class='id identifier rubyid_file_list'>file_list</span> <span class='op'>=</span> <span class='const'>FileList</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>lib/**/*.rb</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>test/test*.rb</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

<span class='id identifier rubyid_pkg_files'>pkg_files</span> <span class='op'>=</span> <span class='const'>FileList</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>lib/**/*</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_fl'>fl</span><span class='op'>|</span>
  <span class='id identifier rubyid_fl'>fl</span><span class='period'>.</span><span class='id identifier rubyid_exclude'>exclude</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\bCVS\b</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>_self</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>_self</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Rake::FileList (class)">Rake::FileList</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the object that the method was called on</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99
100
101
102
103
104
105</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 97</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_patterns'>patterns</span><span class='rparen'>)</span>
  <span class='ivar'>@pending_add</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@pending</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@exclude_patterns</span> <span class='op'>=</span> <span class='const'>DEFAULT_IGNORE_PATTERNS</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='ivar'>@exclude_procs</span> <span class='op'>=</span> <span class='const'>DEFAULT_IGNORE_PROCS</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='ivar'>@items</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_patterns'>patterns</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_pattern'>pattern</span><span class='op'>|</span> <span class='id identifier rubyid_include'>include</span><span class='lparen'>(</span><span class='id identifier rubyid_pattern'>pattern</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>yield</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="[]-class_method">
  
    + (<tt>Object</tt>) <strong>[]</strong>(*args) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a new file list including the files listed. Similar to:</p>

<pre class="code ruby"><code><span class='const'>FileList</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


383
384
385</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 383</span>

<span class='kw'>def</span> <span class='op'>[]</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="*-instance_method">
  
    - (<tt>Object</tt>) <strong>*</strong>(other) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Redefine * to return either a string or a new file list.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


190
191
192
193
194
195
196
197
198</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 190</span>

<span class='kw'>def</span> <span class='op'>*</span><span class='lparen'>(</span><span class='id identifier rubyid_other'>other</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='ivar'>@items</span> <span class='op'>*</span> <span class='id identifier rubyid_other'>other</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>when</span> <span class='const'>Array</span>
    <span class='const'>FileList</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_import'>import</span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_result'>result</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="==-instance_method">
  
    - (<tt>Object</tt>) <strong>==</strong>(array) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Define equality.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


168
169
170</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 168</span>

<span class='kw'>def</span> <span class='op'>==</span><span class='lparen'>(</span><span class='id identifier rubyid_array'>array</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_to_ary'>to_ary</span> <span class='op'>==</span> <span class='id identifier rubyid_array'>array</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="clear_exclude-instance_method">
  
    - (<tt>Object</tt>) <strong>clear_exclude</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Clear all the exclude patterns so that we exclude nothing.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


161
162
163
164
165</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 161</span>

<span class='kw'>def</span> <span class='id identifier rubyid_clear_exclude'>clear_exclude</span>
  <span class='ivar'>@exclude_patterns</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@exclude_procs</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="egrep-instance_method">
  
    - (<tt>Object</tt>) <strong>egrep</strong>(pattern, *options) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Grep each of the files in the filelist using the given pattern. If a block
is given, call the block on each matching line, passing the file name, line
number, and the matching line of text.  If no block is given, a standard
emacs style file:linenumber:line message will be printed to standard out. 
Returns the number of matched items.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 285</span>

<span class='kw'>def</span> <span class='id identifier rubyid_egrep'>egrep</span><span class='lparen'>(</span><span class='id identifier rubyid_pattern'>pattern</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_matched'>matched</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_fn'>fn</span><span class='op'>|</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_fn'>fn</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rb</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_inf'>inf</span><span class='op'>|</span>
        <span class='id identifier rubyid_count'>count</span> <span class='op'>=</span> <span class='int'>0</span>
        <span class='id identifier rubyid_inf'>inf</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
          <span class='id identifier rubyid_count'>count</span> <span class='op'>+=</span> <span class='int'>1</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_line'>line</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_matched'>matched</span> <span class='op'>+=</span> <span class='int'>1</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
              <span class='kw'>yield</span> <span class='id identifier rubyid_fn'>fn</span><span class='comma'>,</span> <span class='id identifier rubyid_count'>count</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span>
            <span class='kw'>else</span>
              <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fn'>fn</span><span class='rbrace'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_count'>count</span><span class='rbrace'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_line'>line</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>rescue</span> <span class='const'>StandardError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_ex'>ex</span>
      <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Error while processing '</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fn'>fn</span><span class='rbrace'>}</span><span class='tstring_content'>': </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ex'>ex</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_matched'>matched</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exclude-instance_method">
  
    - (<tt>Object</tt>) <strong>exclude</strong>(*patterns, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Register a list of file name patterns that should be excluded from the
list.  Patterns may be regular expressions, glob patterns or regular
strings.  In addition, a block given to exclude will remove entries that
return true when given to the block.</p>

<p>Note that glob patterns are expanded against the file system. If a file is
explicitly added to a file list, but does not exist in the file system,
then an glob pattern in the exclude list will not exclude the file.</p>

<p>Examples:</p>

<pre class="code ruby"><code>FileList['a.c', 'b.c'].exclude(&quot;a.c&quot;) =&gt; ['b.c']
FileList['a.c', 'b.c'].exclude(/^a/)  =&gt; ['b.c']</code></pre>

<p>If "a.c" is a file, then ...</p>

<pre class="code ruby"><code>FileList['a.c', 'b.c'].exclude(&quot;a.*&quot;) =&gt; ['b.c']</code></pre>

<p>If "a.c" is not a file, then ...</p>

<pre class="code ruby"><code>FileList['a.c', 'b.c'].exclude(&quot;a.*&quot;) =&gt; ['a.c', 'b.c']</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


148
149
150
151
152
153
154
155
156
157</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 148</span>

<span class='kw'>def</span> <span class='id identifier rubyid_exclude'>exclude</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_patterns'>patterns</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_patterns'>patterns</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pat'>pat</span><span class='op'>|</span>
    <span class='ivar'>@exclude_patterns</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_pat'>pat</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='ivar'>@exclude_procs</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_block'>block</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_resolve_exclude'>resolve_exclude</span> <span class='kw'>if</span> <span class='op'>!</span> <span class='ivar'>@pending</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exclude?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>exclude?</strong>(fn) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Should the given file name be excluded?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


350
351
352
353
354
355
356
357
358
359
360
361
362</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 350</span>

<span class='kw'>def</span> <span class='id identifier rubyid_exclude?'>exclude?</span><span class='lparen'>(</span><span class='id identifier rubyid_fn'>fn</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='ivar'>@exclude_patterns</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pat'>pat</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_pat'>pat</span>
    <span class='kw'>when</span> <span class='const'>Regexp</span>
      <span class='id identifier rubyid_fn'>fn</span> <span class='op'>=~</span> <span class='id identifier rubyid_pat'>pat</span>
    <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[*?]</span><span class='regexp_end'>/</span></span>
      <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_fnmatch?'>fnmatch?</span><span class='lparen'>(</span><span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='id identifier rubyid_fn'>fn</span><span class='comma'>,</span> <span class='const'>File</span><span class='op'>::</span><span class='const'>FNM_PATHNAME</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_fn'>fn</span> <span class='op'>==</span> <span class='id identifier rubyid_pat'>pat</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@exclude_procs</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_fn'>fn</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="existing-instance_method">
  
    - (<tt>Object</tt>) <strong>existing</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return a new file list that only contains file names from the current file
list that exist on the file system.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


312
313
314</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 312</span>

<span class='kw'>def</span> <span class='id identifier rubyid_existing'>existing</span>
  <span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_fn'>fn</span><span class='op'>|</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_fn'>fn</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="existing!-instance_method">
  
    - (<tt>Object</tt>) <strong>existing!</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Modify the current file list so that it contains only file name that exist
on the file system.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


318
319
320
321
322</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 318</span>

<span class='kw'>def</span> <span class='id identifier rubyid_existing!'>existing!</span>
  <span class='id identifier rubyid_resolve'>resolve</span>
  <span class='ivar'>@items</span> <span class='op'>=</span> <span class='ivar'>@items</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_fn'>fn</span><span class='op'>|</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_fn'>fn</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ext-instance_method">
  
    - (<tt>Object</tt>) <strong>ext</strong>(newext = '') 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return a new FileList with <tt>String#ext</tt> method applied to each
member of the array.</p>

<p>This method is a shortcut for:</p>

<pre class="code ruby"><code><span class='id identifier rubyid_array'>array</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_ext'>ext</span><span class='lparen'>(</span><span class='id identifier rubyid_newext'>newext</span><span class='rparen'>)</span> <span class='rbrace'>}</span></code></pre>

<p><tt>ext</tt> is a user added method for the Array class.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


275
276
277</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 275</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ext'>ext</span><span class='lparen'>(</span><span class='id identifier rubyid_newext'>newext</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_fn'>fn</span><span class='op'>|</span> <span class='id identifier rubyid_fn'>fn</span><span class='period'>.</span><span class='id identifier rubyid_ext'>ext</span><span class='lparen'>(</span><span class='id identifier rubyid_newext'>newext</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gsub-instance_method">
  
    - (<tt>Object</tt>) <strong>gsub</strong>(pat, rep) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return a new FileList with the results of running <tt>gsub</tt> against
each element of the original list.</p>

<p>Example:</p>

<pre class="code ruby"><code>FileList['lib/test/file', 'x/y'].gsub(/\//, &quot;\\&quot;)
   =&gt; ['lib\\test\\file', 'x\\y']</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


244
245
246</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 244</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='id identifier rubyid_rep'>rep</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='const'>FileList</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_fn'>fn</span><span class='op'>|</span> <span class='id identifier rubyid_res'>res</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_fn'>fn</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span><span class='id identifier rubyid_rep'>rep</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gsub!-instance_method">
  
    - (<tt>Object</tt>) <strong>gsub!</strong>(pat, rep) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Same as <tt>gsub</tt> except that the original file list is modified.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


255
256
257
258</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 255</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='id identifier rubyid_rep'>rep</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_fn'>fn</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_fn'>fn</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span><span class='id identifier rubyid_rep'>rep</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="import-instance_method">
  
    - (<tt>Object</tt>) <strong>import</strong>(array) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


374
375
376
377</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 374</span>

<span class='kw'>def</span> <span class='id identifier rubyid_import'>import</span><span class='lparen'>(</span><span class='id identifier rubyid_array'>array</span><span class='rparen'>)</span>
  <span class='ivar'>@items</span> <span class='op'>=</span> <span class='id identifier rubyid_array'>array</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="include-instance_method">
  
    - (<tt>Object</tt>) <strong>include</strong>(*filenames) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='add-instance_method'>add</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add file names defined by glob patterns to the file list.  If an array is
given, add each element of the array.</p>

<p>Example:</p>

<pre class="code ruby"><code><span class='id identifier rubyid_file_list'>file_list</span><span class='period'>.</span><span class='id identifier rubyid_include'>include</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*.java</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*.cfg</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_file_list'>file_list</span><span class='period'>.</span><span class='id identifier rubyid_include'>include</span> <span class='qwords_beg'>%w( </span><span class='tstring_content'>math.c</span><span class='words_sep'> </span><span class='tstring_content'>lib.h</span><span class='words_sep'> </span><span class='tstring_content'>*.o</span><span class='words_sep'> )</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


114
115
116
117
118
119
120
121
122
123
124
125</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 114</span>

<span class='kw'>def</span> <span class='id identifier rubyid_include'>include</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_filenames'>filenames</span><span class='rparen'>)</span>
  <span class='comment'># TODO: check for pending
</span>  <span class='id identifier rubyid_filenames'>filenames</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_fn'>fn</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_fn'>fn</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:to_ary</span>
      <span class='id identifier rubyid_include'>include</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_fn'>fn</span><span class='period'>.</span><span class='id identifier rubyid_to_ary'>to_ary</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='ivar'>@pending_add</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_fn'>fn</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@pending</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_a?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>is_a?</strong>(klass) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='kind_of?-instance_method'>kind_of?</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Lie about our class.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


184
185
186</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 184</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='id identifier rubyid_klass'>klass</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_klass'>klass</span> <span class='op'>==</span> <span class='const'>Array</span> <span class='op'>||</span> <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_klass'>klass</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="partition-instance_method">
  
    - (<tt>Object</tt>) <strong>partition</strong>(&amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>FileList version of partition.  Needed because the nested arrays should be
FileLists in this version.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


326
327
328
329
330
331
332
333</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 326</span>

<span class='kw'>def</span> <span class='id identifier rubyid_partition'>partition</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>       <span class='comment'># :nodoc:
</span>  <span class='id identifier rubyid_resolve'>resolve</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='ivar'>@items</span><span class='period'>.</span><span class='id identifier rubyid_partition'>partition</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='lbracket'>[</span>
    <span class='const'>FileList</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_import'>import</span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='const'>FileList</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_import'>import</span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span>
  <span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pathmap-instance_method">
  
    - (<tt>Object</tt>) <strong>pathmap</strong>(spec = nil) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Apply the pathmap spec to each of the included file names, returning a new
file list with the modified paths.  (See String#pathmap for details.)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


263
264
265</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 263</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pathmap'>pathmap</span><span class='lparen'>(</span><span class='id identifier rubyid_spec'>spec</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_fn'>fn</span><span class='op'>|</span> <span class='id identifier rubyid_fn'>fn</span><span class='period'>.</span><span class='id identifier rubyid_pathmap'>pathmap</span><span class='lparen'>(</span><span class='id identifier rubyid_spec'>spec</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resolve-instance_method">
  
    - (<tt>Object</tt>) <strong>resolve</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Resolve all the pending adds now.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


201
202
203
204
205
206
207
208
209</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 201</span>

<span class='kw'>def</span> <span class='id identifier rubyid_resolve'>resolve</span>
  <span class='kw'>if</span> <span class='ivar'>@pending</span>
    <span class='ivar'>@pending</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='ivar'>@pending_add</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_fn'>fn</span><span class='op'>|</span> <span class='id identifier rubyid_resolve_add'>resolve_add</span><span class='lparen'>(</span><span class='id identifier rubyid_fn'>fn</span><span class='rparen'>)</span> <span class='kw'>end</span>
    <span class='ivar'>@pending_add</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_resolve_exclude'>resolve_exclude</span>
  <span class='kw'>end</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sub-instance_method">
  
    - (<tt>Object</tt>) <strong>sub</strong>(pat, rep) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return a new FileList with the results of running <tt>sub</tt> against each
element of the original list.</p>

<p>Example:</p>

<pre class="code ruby"><code>FileList['a.c', 'b.c'].sub(/\.c$/, '.o')  =&gt; ['a.o', 'b.o']</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


233
234
235</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 233</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='id identifier rubyid_rep'>rep</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='const'>FileList</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_res'>res</span><span class='comma'>,</span> <span class='id identifier rubyid_fn'>fn</span><span class='op'>|</span> <span class='id identifier rubyid_res'>res</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_fn'>fn</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span><span class='id identifier rubyid_rep'>rep</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sub!-instance_method">
  
    - (<tt>Object</tt>) <strong>sub!</strong>(pat, rep) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Same as <tt>sub</tt> except that the original file list is modified.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


249
250
251
252</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 249</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span> <span class='id identifier rubyid_rep'>rep</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_fn'>fn</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='kw'>self</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_fn'>fn</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span><span class='id identifier rubyid_rep'>rep</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_a-instance_method">
  
    - (<tt>Object</tt>) <strong>to_a</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return the internal array object.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


173
174
175
176</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 173</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_a'>to_a</span>
  <span class='id identifier rubyid_resolve'>resolve</span>
  <span class='ivar'>@items</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_ary-instance_method">
  
    - (<tt>Object</tt>) <strong>to_ary</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return the internal array object.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


179
180
181</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 179</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_ary'>to_ary</span>
  <span class='id identifier rubyid_to_a'>to_a</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    - (<tt>Object</tt>) <strong>to_s</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Convert a FileList to a string by joining all elements with a space.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


336
337
338
339</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rokuby/RokubyRake/rake/file_list.rb', line 336</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_resolve'>resolve</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'> </span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Wed Sep 19 23:09:48 2012 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.2.1 (ruby-1.9.3).
</div>

  </body>
</html>